{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Portfolio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{% static 'css/bootstrap-form.css' %}" rel="stylesheet">
</head>
<body>
<div class="container py-5">
    <h1 class="text-center mb-4">Manage Portfolio</h1>
    <ul class="nav nav-tabs justify-content-center" id="portfolioTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="portfolio-tab" data-bs-toggle="tab" data-bs-target="#portfolio" type="button" role="tab">Portfolio</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab">Info</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="project-tab" data-bs-toggle="tab" data-bs-target="#project" type="button" role="tab">Projects</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="certificate-tab" data-bs-toggle="tab" data-bs-target="#certificate" type="button" role="tab">Certificates</button>
        </li>
    </ul>

    <div class="tab-content mt-4" id="portfolioTabsContent">
        <!-- Portfolio Form -->
        <div class="tab-pane fade show active" id="portfolio" role="tabpanel">
            <h3>Edit Portfolio</h3>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ portfolio_form.as_p }}
                <button type="submit" name="save_portfolio" class="btn btn-primary">Save Portfolio</button>
            </form>
        </div>

        <!-- Info Form -->
        <div class="tab-pane fade" id="info" role="tabpanel">
            <h3>Edit Info</h3>
            <form method="POST">
                {% csrf_token %}
                {{ info_form.as_p }}
                <button type="submit" name="save_info" class="btn btn-success">Save Info</button>
            </form>
        </div>

                <!-- Certificate Form -->
        <div class="tab-pane fade" id="certificate" role="tabpanel">
            <h3>Add Certificate</h3>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ certificate_form.as_p }}
                <button type="submit" name="add_certificate" class="btn btn-info">Add Certificate</button>
            </form>
            <h4>Existing Certificates</h4>
            <ul>
                {% for cert in certificates %}
                    <li>
                        <strong>{{ cert.certificate_name }}</strong> - {{ cert.certificate_des }}
                        {% if cert.certificate_link %}
                            (<a href="{{ cert.certificate_link }}" target="_blank" class="text-info">View</a>)
                        {% endif %}
                        {% if cert.certificate_image %}
                            <br>
                            <img src="{{ cert.certificate_image.url }}" alt="{{ cert.certificate_name }}" width="150">
                        {% endif %}
                    </li>
                {% empty %}
                    <p>No certificates added yet.</p>
                {% endfor %}
            </ul>
        </div>

        <!-- Project Form -->
        <div class="tab-pane fade" id="project" role="tabpanel">
            <h3>Add Project</h3>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ project_form.as_p }}
                <button type="submit" name="add_project" class="btn btn-warning">Add Project</button>
            </form>
            <h4>Existing Projects</h4>
            <ul>
                {% for project in projects %}
                    <li>
                        <strong>{{ project.project_name }}</strong> - {{ project.project_des }}
                        {% if project.project_link %}
                            (<a href="{{ project.project_link }}" target="_blank" class="text-info">View</a>)
                        {% endif %}
                    </li>
                {% empty %}
                    <p>No projects added yet.</p>
                {% endfor %}
            </ul>
        </div>

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
